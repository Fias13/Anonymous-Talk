<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Room</title>
  <link rel="stylesheet" href="chatpage.css">
</head>
<body>
  <header>
    <div class="header-left">
      <a href="main.html" class="home-btn">
        <img src="./assets/images/hicon.png" alt="Home">
      </a>
    </div>

    <h1>CHAT ROOM</h1>

  </header>
  <div class="top-right">
        <!-- Coin -->
        <button class="icon-btn coin" id="coinBtn" title="Coins">
          <span class="coin-icon" aria-hidden="true"></span>
          <span class="coin-count" id="coinCount">0</span>
        </button>

        <!-- Notifications -->
      <div class="notif-wrap">
        <button class="icon-btn bell" id="bellBtn" title="Notifications" aria-haspopup="true" aria-expanded="false">
          <span class="bell-icon" aria-hidden="true"></span>
          <span class="badge" id="notifBadge" hidden>3</span>
        </button>

        <!-- Notification dropdown -->
        <div class="notif-dropdown" id="notifDropdown" role="dialog" aria-hidden="true" aria-label="Notifications">
          <div class="notif-header">
            <strong>Notifications</strong>
            <button class="notif-clear" id="notifClear">Mark all read</button>
          </div>

          <div class="notif-list" id="notifList">
            <div class="notif-empty" id="notifEmpty">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
          </div>

          <div class="notif-footer">
            <button id="notifViewAll" class="notif-viewall">Delete all</button>
          </div>
        </div>
      </div>

        <!-- Profile -->
        <div class="profile-wrap" id="profileWrap">
          <button class="avatar-btn" id="avatarBtn" title="Account">
            <img src="./assets/images/default-profile.png" alt="Profile" class="avatar-img" />
            <span class="status-dot online"></span>
            <span class="avatar-ring"></span>
          </button>

          <!-- Dropdown Menu -->
          <div class="menu" id="profileMenu" role="menu">
            <div class="menu-header">
              <img class="menu-avatar" src="./assets/images/default-profile.png" alt="" />
              <div class="menu-identity">
                <div class="menu-name" id="menuName">Naomi</div>
                <div class="menu-mail" id="menuMail">naomi@example.com</div>
              </div>
            </div>

            <!-- üîΩ ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ï‡πâ‡∏ä‡∏∑‡πà‡∏≠ -->
            <div class="status-block">
              <!-- ‡πÅ‡∏ñ‡∏ß‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô -->
              <button class="status-row" id="statusRow" type="button">
                <span class="status-dot online" id="statusDotMenu"></span>
                <span class="status-text" id="statusText">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
              </button>

              <!-- üîª dropdown ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Å‡∏≤‡∏á‡∏•‡∏á‡∏°‡∏≤ -->
              <div class="status-list" id="statusList">
                <button class="status-option" data-status="online">
                  <span class="status-dot-mini online"></span>
                  <div class="status-option-text">
                    <div class="status-option-label">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
                    <div class="status-option-desc">‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</div>
                  </div>
                </button>

                <button class="status-option" data-status="away">
                  <span class="status-dot-mini away"></span>
                  <div class="status-option-text">
                    <div class="status-option-label">‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà</div>
                    <div class="status-option-desc">‡∏û‡∏±‡∏Å‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</div>
                  </div>
                </button>

                <button class="status-option" data-status="busy">
                  <span class="status-dot-mini busy"></span>
                  <div class="status-option-text">
                    <div class="status-option-label">‡∏´‡πâ‡∏≤‡∏°‡∏£‡∏ö‡∏Å‡∏ß‡∏ô</div>
                    <div class="status-option-desc">‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
                  </div>
                </button>

                <button class="status-option" data-status="offline">
                  <span class="status-dot-mini offline"></span>
                  <div class="status-option-text">
                    <div class="status-option-label">‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå / ‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß</div>
                    <div class="status-option-desc">‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå‡∏≠‡∏¢‡∏π‡πà</div>
                  </div>
                </button>
              </div>
            </div>

            <hr />
            <button class="menu-item" id="menuProfile" role="menuitem">My Profile</button>
            <button class="menu-item" id="menuSettings" role="menuitem">Settings</button>

            <!-- ===== Settings Modal ===== -->
            <div id="settingsModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
              <div class="modal-backdrop" id="settingsBackdrop"></div>

              <div class="modal-card settings-card" role="document">
                <button class="modal-close" id="settingsClose" aria-label="Close">√ó</button>
                <h2 class="modal-title">My Profile</h2>

                <div class="settings-content">
                  <div class="settings-section">
                    <h3 class="settings-label">‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h3>
                    <div class="settings-avatar-row">
                      <img
                        id="settingsAvatarPreview"
                        class="settings-avatar"
                        src="./assets/images/default-profile.png"
                        alt="Profile preview"
                      />
                      <div class="settings-avatar-actions">
                        <button type="button" class="settings-btn" id="settingsAvatarUpload">
                          ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‚Ä¶
                        </button>
                        <button type="button" class="settings-btn ghost" id="settingsAvatarReset">
                          ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="settings-footer">
                  <button type="button" class="settings-btn primary" id="settingsSave">
                    Save
                  </button>
                </div>
              </div>
            </div>
            <!-- ===== /Settings Modal ===== -->

            <hr />
            <button class="menu-item danger" id="logoutBtn" role="menuitem">Logout</button>
          </div>
        </div>
      </div>
  <main id="room-container">
    <div class="no-room">üí§ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</div>
  </main>

  <!-- Modal ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á -->
  <div id="room-modal" class="modal">
    <div class="modal-content">
      <h2>Create Room</h2>
      <input type="text" id="room-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á...">
      <input type="text" id="room-interest" placeholder="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Å‡∏°, ‡∏´‡∏ô‡∏±‡∏á, ‡∏î‡∏ô‡∏ï‡∏£‡∏µ">
      <select id="room-type">
        <option value="public">Public</option>
        <option value="private">Private</option>
      </select>
      <!-- ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Private) -->
      <div class="field" id="password-wrapper" style="display: none; margin-top: 8px;">
        <label for="room-password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á Private)</label>
        <input type="password" id="room-password" maxlength="32" />
      </div>
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å:</label>
      <input type="number" id="room-limit" min="2" max="10" value="3">
      <div class="modal-buttons">
        <button id="confirm-create">Create</button>
        <button id="cancel-create">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Modal ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
  <div id="alert-modal" class="modal">
    <div class="modal-content">
      <span id="alert-message"></span>
      <div class="modal-buttons">
        <button id="alert-close">Close</button>
      </div>
    </div>
  </div>
  <button class="floating-create-btn" id="create-room-btn">
    Create Room
  </button>

  <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô type="module" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ Firebase -->
  <script type="module" src="chatpage.js"></script>
</body>
</html>